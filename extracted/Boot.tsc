// ------------------------------------------------------------------------------------------------
// Opal Engine configuration script
// ------------------------------------------------------------------------------------------------
#ifndef MAKE_BIGFILE
	// 1 General Engine Message
	// 2 Lib Curl
	// 3 Storm
	// 4 HTTP Proxy
	// 5 Network Manager
	// 6 Bloomberg
	// 7 JSON Parser
	// 8 CEF
	// 9 Argo
	// 10 CHAT
	// 11 BUILD
	// 12 GAMEPLAY
	// 13 SCRIPT
	source LogFiltering.tsc
#endif  // #ifndef MAKE_BIGFILE


// ------------------------------------------------------------------------------------------------
// REGISTERING RESOURCE CLASS
// ------------------------------------------------------------------------------------------------
#if MAKE_BIGFILE
    RegisterResourceClass .ROOMZONEDECORATION BF_Object
    RegisterResourceClass .ROOMZONEGAMEPLAY BF_Object
    RegisterResourceClass .ROOMZONEMATERIAL BF_Object
#endif

// ------------------------------------------------------------------------------------------------
// DEFAULT PATH
// ------------------------------------------------------------------------------------------------
#ifndef MAKE_BIGFILE
	#if PLATFORM_PC
		SetAliasPath  DB: ..\Data
		SetAliasPath  CONFIG: ..\Config
        SetAliasPath  REPLAY: ..\Replay
	#else
		SetAliasPath DB: Data			
		SetAliasPath  CONFIG: Config
        SetAliasPath  REPLAY: game:\Replay
                SetStorage game:\
	#endif
#else
	SetAliasPath DB: ..\Data
	SetAliasPath  CONFIG: ..\Config
    SetAliasPath  REPLAY: ..\Replay
#endif

// Disabled while the Asset Generator doesn't have the InitializeCacheFileManager command
#if MAKE_BIGFILE
	InitializeCacheFileManager
#endif

//-------------------------------------------
// Group

AddEnableGroup "Normal"
AddEnableGroup "OrdinaryDay"
AddEnableGroup "Background"

#if AUTO_DETECT
  // Themes
  AddEnableGroup "Basic"
  AddEnableGroup "Royal_A"
  AddEnableGroup "_No_Sub"
  AddEnableGroup "Wall_Level_3"
  AddEnableGroup "Deco_Level_3"
  AddEnableGroup "Column_Level_3"
  AddEnableGroup "Arch_Level_3"
  AddEnableGroup "Balustrade_Level_3"
  AddEnableGroup "Crenel_Level_3"
  AddEnableGroup "Rank_3"
#endif

// ------------------------------------------------------------------------------------------------
// Setup of Bigfile folder / BF Read / Write modes
// ------------------------------------------------------------------------------------------------

// Set BF compression to LZO (used to save space and reduce loading times on slow disc devices, at
// a small CPU cost
#if COMPRESS_BIGFILE_LZO
    SetBFCompression LZO
#endif

// Specifies the location of the bigfiles for reading & writing
// custombf.tsc a script file (that sets the bigfiles path) is generated by OpalLauncher
// if it exists it will CUSTOMBF, thus skipping SetBFPath to ..\Bigfiles\
#ifnot MAKE_BIGFILE
	source custombf.tsc
	source DB:>Scripts>ThemePackagesCfg.tsc
#endif

#ifnot CUSTOMBF
#ifnot MAKE_BIGFILE
	#if PLATFORM_PC
		SetBFPath ..\Bigfiles\
	#else
		SetBFPath Bigfiles\
	#endif
#else
		SetBFPath ..\Bigfiles\
#endif
#endif


// ------------------------------------------------------------------------------------------------
// TEXTURE CONVERSION SETTINGS
// ------------------------------------------------------------------------------------------------
SetAutoMipmapGen on



// ------------------------------------------------------------------------------------------------
// Force entering the main loop
// ------------------------------------------------------------------------------------------------

// Force entering the main loop by pausing a frame
Pause 0.016

Source DB:>Scripts>Init.tsc

#if MAKE_BIGFILE
    Exit
#endif
